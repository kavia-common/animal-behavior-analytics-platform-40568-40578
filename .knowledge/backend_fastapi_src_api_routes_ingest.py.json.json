{"is_source_file": true, "format": "Python", "description": "This file defines a FastAPI route for ingesting behavior events into the system. It includes a Pydantic model for validating incoming event data and a handler function to process and broadcast new events, as well as generate and send session summaries via WebSocket.", "external_files": ["src/api/models", "src/api/sockets"], "external_methods": ["broadcast_event", "broadcast_analytics_delta", "compute_summary"], "published": ["ingest_event"], "classes": [{"name": "IngestEvent", "description": "A Pydantic model representing the incoming event payload with validation rules."}], "methods": [{"name": "ingest_event(payload: IngestEvent)", "description": "FastAPI route handler that processes incoming behavior event data, appends it to the in-memory store, and broadcasts updates.", "scope": "", "scopeKind": ""}], "calls": ["broadcast_event", "compute_summary", "broadcast_analytics_delta"], "search-terms": ["FastAPI route", "ingest", "BehaviorEvent", "session_id", "websocket broadcast", "event ingestion"], "state": 2, "file_id": 10, "knowledge_revision": 25, "git_revision": "f8eb0c46f21f9b549b2193e5b9ca104f87aaa00c", "ctags": [{"_type": "tag", "name": "IngestEvent", "path": "/home/kavia/workspace/code-generation/animal-behavior-analytics-platform-40568-40578/backend_fastapi/src/api/routes/ingest.py", "pattern": "/^class IngestEvent(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "confidence", "path": "/home/kavia/workspace/code-generation/animal-behavior-analytics-platform-40568-40578/backend_fastapi/src/api/routes/ingest.py", "pattern": "/^    confidence: float = Field(ge=0.0, le=1.0)$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "IngestEvent", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/animal-behavior-analytics-platform-40568-40578/backend_fastapi/src/api/routes/ingest.py", "pattern": "/^    id: str = Field(..., description=\"Event id.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "IngestEvent", "scopeKind": "class"}, {"_type": "tag", "name": "ingest_event", "path": "/home/kavia/workspace/code-generation/animal-behavior-analytics-platform-40568-40578/backend_fastapi/src/api/routes/ingest.py", "pattern": "/^def ingest_event(payload: IngestEvent):$/", "language": "Python", "kind": "function", "signature": "(payload: IngestEvent)"}, {"_type": "tag", "name": "metadata", "path": "/home/kavia/workspace/code-generation/animal-behavior-analytics-platform-40568-40578/backend_fastapi/src/api/routes/ingest.py", "pattern": "/^    metadata: Dict[str, Any] = Field(default_factory=dict)$/", "language": "Python", "typeref": "typename:Dict[str, Any]", "kind": "variable", "scope": "IngestEvent", "scopeKind": "class"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/animal-behavior-analytics-platform-40568-40578/backend_fastapi/src/api/routes/ingest.py", "pattern": "/^router = APIRouter(prefix=\"\\/ingest\", tags=[\"Ingest\"])$/", "language": "Python", "kind": "variable"}], "hash": "ba14ff803abe9066d30f32e668a1b780", "format-version": 4, "code-base-name": "backend_fastapi", "filename": "backend_fastapi/src/api/routes/ingest.py", "fields": [{"name": "float confidence", "scope": "IngestEvent", "scopeKind": "class", "description": "unavailable"}, {"name": "str id", "scope": "IngestEvent", "scopeKind": "class", "description": "unavailable"}, {"name": "Dict[str, Any] metadata", "scope": "IngestEvent", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter(prefix=\"\\/ingest\", tags=[\"Ingest\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"25": "f8eb0c46f21f9b549b2193e5b9ca104f87aaa00c"}]}